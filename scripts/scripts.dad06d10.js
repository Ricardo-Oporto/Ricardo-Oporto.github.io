"use strict";angular.module("frontEndTestApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ui.bootstrap"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl as ctrl",controllerAs:"main"}).otherwise({redirectTo:"/"})}]),angular.module("frontEndTestApp").controller("MainCtrl",["$uibModal","dataService",function(a,b){var c=this;b.getLightBoxData("data/data.json").then(function(a){c.lightBoxConfig=a.data,c.showModal()}),c.showModal=function(){a.open({animation:!0,templateUrl:"views/directives/lightBox.html",controller:"LightboxCtrl as lightBox",windowTemplateUrl:"views/directives/lightboxWindow.html",backdrop:"static",resolve:{options:function(){return c.lightBoxConfig}}})}}]),angular.module("frontEndTestApp").directive("lightBox",function(){return{templateUrl:"views/directives/lightBox.html",restrict:"E"}}),angular.module("frontEndTestApp").controller("LightboxCtrl",["options","$uibModalInstance",function(a,b){var c=this;c.progressbarConfig=a.data.lightbox,c.close=function(){b.close()}}]),angular.module("frontEndTestApp").service("dataService",["$http",function(a){var b=function(b){return a.get(b)};return{getLightBoxData:b}}]),angular.module("frontEndTestApp").directive("progressBar",["$interval","$timeout",function(a,b){return{templateUrl:"views/directives/progressBar.html",restrict:"E",scope:{start:"=",finish:"=",duration:"="},link:function(c,d){var e,f;c.progress=c.start,c.complete=!1,c.intervals=c.duration/c.finish,c.completeProgressBar=function(){c.progress=c.finish,a.cancel(e),c.complete=!0},c.updatePorgressBar=function(){c.progress!==c.finish&&(c.progress=c.progress+1)},e=a(c.updatePorgressBar,c.intervals),f=b(c.completeProgressBar,c.duration),d.on("$destroy",function(){a.cancel(e),b.cancel(f)})}}}]),angular.module("frontEndTestApp").directive("lightboxWindow",["$timeout","$window",function(a,b){return{link:function(c,d){var e=d.find(".lightbox_container");c.positionModal=function(){e.css("margin-top",c.getMargin(b.innerHeight,e.height()))},c.getMargin=function(a,b){return Math.max(0,(a-b)/2)},angular.element(b).bind("resize",function(){c.positionModal()}),a(c.positionModal,0)}}}]),angular.module("frontEndTestApp").run(["$templateCache",function(a){a.put("views/directives/lightBox.html",'<div class="lightbox"> <div class="modal-header lightbox_header"> <h4>Progress</h4> <button class="lightbox_button" ng-click="lightBox.close()">X</button> </div> <div class="modal-body lightbox_content"> <div class="row"> <div class="col-sm-12"> <progress-bar start="lightBox.progressbarConfig.start" finish="lightBox.progressbarConfig.finish" duration="lightBox.progressbarConfig.duration"></progress-bar> </div> </div> </div> </div>'),a.put("views/directives/lightboxWindow.html","<div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\" lightbox-window><div class=\"modal-content lightbox_container\" uib-modal-transclude></div></div>"),a.put("views/directives/progressBar.html",'<div class="progressbar"> <uib-progressbar class="progress" value="progress" animate="false" type="{{ complete ? \'success\':\'info\'}}"></uib-progressbar> <span ng-hide="complete">Progress {{progress}}%</span> <span ng-show="complete">This task is {{progress}}% completed </span> <i class="glyphicon glyphicon-ok progressbar_icon" ng-class="{visible: complete}"></i> </div>'),a.put("views/main.html",'<div> <p><button ng-click="main.showModal()" class="btn btn-lg btn-success">reset</button></p> </div>')}]);